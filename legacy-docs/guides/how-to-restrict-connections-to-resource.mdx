---
title: "How to restrict users to connect directly to databases?"
---

Formal Desktop App supports DNS filtering, enabling you to enforce that users cannot connect directly to databases.

## Overview

Formal Desktop App supports DNS filtering, this feature is useful to enforce that users cannot connect directly to the resource from their endpoint and have to go through the Formal Connector.

DNS filtering starts a local DNS server in the Formal Desktop App and if the right policy is enforced, the DNS request will be blocked.

 ## Requirements
 - Have Formal Desktop App setup and running
 - Have a policy blocking desired hostname

 ## Example of policy

This policy will block any connection if the `used_dns` is the same as the hostname of the datastore.

 ```rego
 package formal.v2

 import future.keywords.if

 session := { "action": "block" } if {
    input.used_dns == input.resource.hostname
 }
 ```